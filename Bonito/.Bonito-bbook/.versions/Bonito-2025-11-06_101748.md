# New Book

```julia (editor=true, logging=true, output=true)
using CSV, DataFrames
using Bonito, Tables
include("../Examples/test.jl")  # ou ajoute le chemin d'inclusion du package RPGSimulator

# Création des personnages
archer = Archer(nom="Jed")
archer.stats = Stats(PV=100, PM=20, ATK=30, VITESSE=40, DEFENSE=10)

gobelin = Gobelin(nom="Hussin")
gobelin.stats = Stats(PV=120, PM=0, ATK=35, VITESSE=40, DEFENSE=5)

# Simulation de 5 combats
all_logs, summary = simulate_many!(archer, gobelin, N=5, out_dir="data")

# Affichage résumé des combats
Bonito.DOM.div(
    Bonito.DOM.h2("Résumé des combats"),
    Bonito.Table(summary)
)

```
```julia (editor=true, logging=false, output=true)
using Bonito
using WGLMakie
using DataFrames

WGLMakie.activate!(; resize_to_body=true)
import WGLMakie: Makie  # Import Makie explicitement

function plot_winner_summary(summary::DataFrame)
    winner_counts = combine(groupby(summary, :Winner), nrow => :Count)

    fig = Figure(resolution=(600, 400))
    ax = Axis(fig[1, 1], title="Nombre de victoires par personnage", xlabel="Personnage", ylabel="Victoires")

    points = [Point2f0(i, winner_counts.Count[i]) for i in 1:length(winner_counts.Count)]
    barplot!(ax, points; width=0.6, color=:royalblue)

    # Définit les ticks x avec les noms des vainqueurs
    ax.xticks = (1:length(winner_counts.Winner), winner_counts.Winner)

    axislegend(ax)

    return fig
end

# Exemple de données (à remplacer par ta vraie variable)
summary = DataFrame(Combat=1:10, Winner=["Jed", "Hussin", "Jed", "Jed", "Hussin", "Jed", "Hussin", "Jed", "Jed", "Hussin"])

fig = plot_winner_summary(summary)

Bonito.DOM.div(
    Bonito.DOM.h2("Graphique Résumé des combats"),
    Makie(fig)
)

```
```julia (editor=true, logging=false, output=true)
using CSV, DataFrames
using Bonito, Tables
include("../Examples/test.jl")

# Création des personnages
archer = Archer(nom="Jed")
archer.stats = Stats(PV=100, PM=20, ATK=30, VITESSE=40, DEFENSE=10)

gobelin = Gobelin(nom="Hussin")
gobelin.stats = Stats(PV=120, PM=0, ATK=35, VITESSE=40, DEFENSE=5)

# Simulation de 5 combats
all_logs, summary = simulate_many!(archer, gobelin, N=5, out_dir="data")

# Préparation des données PV par round
pv = DataFrame(combat=all_logs.combat, round=all_logs.round, actor=all_logs.actor, pv=all_logs.actor_PV)

# Affichage points de vie par round
Bonito.DOM.div(
    Bonito.DOM.h2("Points de vie par round"),
    Bonito.Table(pv)
)

```
```julia (editor=true, logging=false, output=true)

```
