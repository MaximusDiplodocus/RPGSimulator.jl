# New Book

```julia (editor=true, logging=true, output=true)
using CSV, DataFrames
using Bonito, Tables
include("../Examples/test.jl")  # ou ajoute le chemin d'inclusion du package RPGSimulator

# Création des personnages
archer = Archer(nom="Jed")
archer.stats = Stats(PV=100, PM=20, ATK=30, VITESSE=40, DEFENSE=10)

gobelin = Gobelin(nom="Hussin")
gobelin.stats = Stats(PV=120, PM=0, ATK=35, VITESSE=40, DEFENSE=5)

# Simulation de 5 combats
all_logs, summary = simulate_many!(archer, gobelin, N=5, out_dir="data")

# Affichage résumé des combats
Bonito.DOM.div(
    Bonito.DOM.h2("Résumé des combats"),
    Bonito.Table(summary)
)

```
```julia (editor=true, logging=true, output=true)
using CSV, DataFrames
using Bonito, PlotlyJS, Tables

include("../Examples/test.jl")

# --- Simulation des combats ---
archer = Archer(nom="Jed")
archer.stats = Stats(PV=100, PM=20, ATK=30, VITESSE=40, DEFENSE=10)

gobelin = Gobelin(nom="Hussin")
gobelin.stats = Stats(PV=120, PM=0, ATK=35, VITESSE=40, DEFENSE=5)

all_logs, summary = simulate_many!(archer, gobelin, N=5, out_dir="data")

# --- Création d’un graphique (ex : nombre de victoires) ---
# Supposons que le résumé contienne une colonne "Vainqueur"
count_summary = combine(groupby(summary, :Vainqueur), nrow => :NombreCombats)

plot_data = PlotlyJS.plot(
    PlotlyJS.bar(
        x = count_summary.Vainqueur,
        y = count_summary.NombreCombats,
        marker_color = "skyblue"
    ),
    Layout(title="Nombre de victoires par combattant",
           xaxis_title="Vainqueur",
           yaxis_title="Nombre de combats")
)

# --- Affichage HTML avec Bonito ---
Bonito.DOM.div(
    Bonito.DOM.h2("Résumé des combats"),
    Bonito.Table(summary),
    Bonito.DOM.h3("Graphique des victoires"),
    Bonito.Plotly(plot_data)
)

```
```julia (editor=true, logging=false, output=true)
using Bonito

function simple_html_barplot()
    # Simple graphique à barres en SVG (HTML)
    svg = """
    <svg width="300" height="150" xmlns="http://www.w3.org/2000/svg">
      <rect x="10" y="20" width="50" height="100" style="fill:blue"/>
      <rect x="70" y="50" width="50" height="70" style="fill:red"/>
      <rect x="130" y="10" width="50" height="110" style="fill:green"/>
      <text x="10" y="140" font-family="sans-serif" font-size="12px" fill="black">A</text>
      <text x="70" y="140" font-family="sans-serif" font-size="12px" fill="black">B</text>
      <text x="130" y="140" font-family="sans-serif" font-size="12px" fill="black">C</text>
    </svg>
    """
    return Bonito.RawHTML(svg)
end

Bonito.DOM.div(
    Bonito.DOM.h2("Graphique barres HTML simple"),
    simple_html_barplot()
)

```
```julia (editor=true, logging=false, output=true)
using CSV, DataFrames
using Bonito, Tables
include("../Examples/test.jl")

# Création des personnages
archer = Archer(nom="Jed")
archer.stats = Stats(PV=100, PM=20, ATK=30, VITESSE=40, DEFENSE=10)

gobelin = Gobelin(nom="Hussin")
gobelin.stats = Stats(PV=120, PM=0, ATK=35, VITESSE=40, DEFENSE=5)

# Simulation de 5 combats
all_logs, summary = simulate_many!(archer, gobelin, N=5, out_dir="data")

# Préparation des données PV par round
pv = DataFrame(combat=all_logs.combat, round=all_logs.round, actor=all_logs.actor, pv=all_logs.actor_PV)

# Affichage points de vie par round
Bonito.DOM.div(
    Bonito.DOM.h2("Points de vie par round"),
    Bonito.Table(pv)
)

```
```julia (editor=true, logging=false, output=true)

```
